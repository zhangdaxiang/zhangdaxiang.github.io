---
title: git学习(3)分支和标签管理
date: 2017-11-01 16:58:11
tags: git
categories: git
---

### 分支管理
用了git的分支之后，只想狠狠地给他打个call，和svn的分支比起来，git简直快了指数呗。说起来，svn的分支功能，我基本没有使用过，因为实在是不太方便。
分支就像是两个平行宇宙，我在这个分支进行修改，并不会影响到另外一个分支。根据需要的话，修改完毕之后，可以将两个分支合并。分支在实际使用中具体表现在，如果我在开发一个新功能，只开发到一半。这个时候同事也想用这个代码库开发别的功能，但是开发到一半的代码库无疑会影响到新的开发。这个时候，如果你新建了一个分支，在自己的分支上做开发，别人就可以在原来的分支上开发，这样互不影响。都到都开发完毕了，再把两个分支合并，岂不美哉。
#### 创建与合并分支
通俗来讲，分支就像一个平行宇宙，每个平行宇宙都有一条时间线，我们每次`commit`就是串起了一条时间线。目前为止，我们只有一条时间线，即`master`分支。严格来讲，`HEAD`并不是指向提交，而是指向分支`master`，然后`master`才是指向提交。所以,`HEAD`指向的是当前分支。
我们可以这样理解，新建了一个分支，其实就是在`master`这条时间线的某个时间节点分出了两条平行的时间线，一条还是按`master`原有的轨迹行走，另一条就按另一个方向前进。我们将这个时间线，也就是分支命名为`dev`。
等到`dev`上的修改全部完成了，我们可以把`dev`这个分支和`master`分支合并。最简单的情况是这样的，如果`master`这个分支没有进行任何修改，那么我们可以直接将`master`指向`dev`这个分支。然后，我们就可以把`dev`这个分支删除了，其实也就是把`dev`的指针给删除掉。
接下来是实际操作：
我们要先创建一个分支，然后用`git checkout <name>`切换到这个分支，如果同时加上`-b`这个参数，就是创建的同时并切换分支：
```bash
git checkout -b dev
```
相当于相面两句代码：
```bash
git branch dev
git checkout dev
```
同时，我们可以用`git branch`查看当前分支。
等到`dev`分支的修改都完成后，我们需要把`dev`上的东西合并到`master`。首先用`git checkout master`切换到`master`分支，然后输入：
```bash
git merge dev
```
`git merge`命令用于合并指定分支到当前分支。因为`master`没有修改，即是`Fast-forward`（快进模式）。直接把`master`指向`dev`的当前提交，所以速度非常地快。
合并完成以后，就可以删除`dev`分支了：
```bash
git branch -d dev
```